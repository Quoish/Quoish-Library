#集合论 #抽象代数 #范畴论
# 映射
## 映射的定义
>已知非空集合$X,Y$，若$f\subseteq X\times Y$，且满足：$$\forall x \in X,\exists !y\in Y,\mathrm{s.t.}(x,y)\in f$$其中$\exists!$代表存在且唯一，则称$f$为$X$到$Y$的*映射*（Mapping），记作$f:X\to T$。
>其中$X$称为*定义域*（Domain），$Y$称为*陪域*（Codomain）。
>$(x,y)\in f$可以记作$f(x)=y$，称$y$是$x$的*像*（Image），$x$是$y$的*原像*（Preimage）。
>整体可以记作$$
\begin{equation}
\left.
\begin{aligned}
f:X&\longrightarrow Y\\
x&\longmapsto y
\end{aligned}
\right.
\end{equation}$$

这和高中、高等数学里的定义都不相同，没有依赖“某种对应法则”这种含糊的描述，而是借助Cartesius积给出了集合论化的定义。
若$Y$是一个数组成的集合，则称$f$是一个*函数*（Function）。
>记$$Y^X=\{ f:X\to Y \}$$为$X$到$Y$的全体映射组成的集合。

可以看出来这其实跟[[朴素集合论#Cartesius幂]]的定义$Y^{|X|}$完全一样，只不过习惯上分别称为元组和映射，即$$(a_{i})_{i\in X}\in Y^{|X|},\quad f \in Y^{X}$$换句话来说，**元组和映射本质上是同一种东西**。
$X^Y$的记号实际上也和[[朴素集合论#幂集]]中记号相统一，$2^{X}$实际上就是$\{ 0, 1\}^{X}$，这是子集特征函数的集合，而子集和特征函数又是一个一一对应的关系，所以表示了全体子集的集合，只不过把$\{ 0,1 \}$记为了$2$而已。
- 对于有限集$X,Y$，$|X^{Y}|=|X|^{|Y|}$。
## 像和原像
>已知$f:X\to Y$，若$A\subseteq X$，称$$f(A)=\{ f(x)|x \in A \}$$为$A$在$f$下的*像*（Image）或*值域*（Range）。特别地，记$f(X)=\mathrm{Im}f$。
>若$B\subseteq Y$，称$$f^{-1}(B)=\{ x \in X|f(x)\in B \}$$为$B$在$f$下的*原像*（Preimage）。

像和原像有以下性质：
- 若$A_{1}\subseteq A_{2}\subseteq X$，则$f(A_{1})\subseteq f(A_{2})$；
- 若$B_{1}\subseteq B_{2}\subseteq Y$，则$f^{-1}(B_{1})\subseteq f^{-1}(B_{2})$；
- $\forall A\subseteq X$，有$A\subseteq f^{-1}(f(A))$；
- $\forall B\subseteq Y$，有$B\subseteq f(f^{-1}(B))$；且若$B\subseteq \mathrm{Im}f$，有$f(f^{-1}(B))=B$；
- $\forall A\subseteq X$，有$f(A)^{C}\subseteq f(A^{C})$；
- $\forall B\subseteq Y$，有$(f^{-1}(B))^{C}=f^{-1}(B^{C})$；
- $\forall \{ A_{i} \}_{i\in I}\subseteq 2^{X}$，有$$f\left( \bigcap_{i\in I}A_{i} \right)\subseteq \bigcap_{i\in I}f(A_{i}),\quad f\left(  \bigcup_{i\in I}A_{i} \right)=\bigcup_{i\in I}f(A_{i})$$
- $\forall \{ B_{i} \}_{i\in I}\subseteq 2^{X}$，有$$f^{-1}\left( \bigcap_{i\in I}B_{i} \right)= \bigcap_{i\in I}f^{-1}(B_{i}),\quad f^{-1}\left(  \bigcup_{i\in I}B_{i} \right)=\bigcup_{i\in I}f^{-1}(B_{i})$$
- 若$B_{2}\subseteq B_{1}\subseteq Y$，有$f^{-1}(B_{1}-B_{2})=f^{-1}(B_{1})-f^{-1}(B_{2})$。
## 常见映射
### 恒等映射
已知集合$X$，*恒等映射*（Identity）定义为$$
\begin{equation}
\left.
\begin{aligned}
\mathrm{id}_{X}:X&\longrightarrow X\\
x&\longmapsto x
\end{aligned}
\right.
\end{equation}$$不混淆的情况下可以简写为$\mathrm{id}$。
### 包含映射
已知集合$X$，$A\subseteq X$，*包含映射*（Inclusion）定义为$$
\begin{equation}
\left.
\begin{aligned}
\mathrm{id}_{A}:A&\longrightarrow X\\
a&\longmapsto a
\end{aligned}
\right.
\end{equation}$$不混淆的情况下可以简写为$\mathrm{id}$。
### 常值映射
已知集合$X,Y$，$y_{0}\in Y$，*常值映射*定义为$$
\begin{equation}
\left.
\begin{aligned}
y_{0}:X&\longrightarrow Y\\
x&\longmapsto y_{0}
\end{aligned}
\right.
\end{equation}$$
### 投影映射
已知集合族$\{ X_{i} \}_{i\in I}$，*投影映射*（Projection）定义为$$
\begin{equation}
\left.
\begin{aligned}
\pi_{i}:\prod_{i\in I}X_{i}&\longrightarrow X_{i}\\
(x_{i})_{i\in I}&\longmapsto (x_{i})_{i\in I}
\end{aligned}
\right.
\end{equation}$$$\pi_{i}$的意义是把Cartesius投影到第$i$个分量。一般地，投影到小于$|I|$的若干个分量也是一种投影映射。
## 映射的限制和扩张
>若$f:X\to Y$，记：$$
\begin{equation}
\left.
\begin{aligned}
f|_{A}:A&\longrightarrow Y\\
x&\longmapsto f(x)
\end{aligned}
\right.
\end{equation}$$称为$f$在$A$上的*限制*（Restriction）。

在$A$上的限制无非是将定义域缩减到子集$A$上，而$A$以外的部分都没有定义。
>设$f:X\to Y$，$X\subseteq U,Y\subseteq V$。若映射$g:U\to V$，且$g|_{X}=f$，则称$g$为$f$的扩张（Extension）。

# 映射的运算
## 映射的复合
>已知映射$f:X\to Y$，$g:Y\to Z$，定义二者的复合$$
\begin{equation}
\left.
\begin{aligned}
g\circ f:X&\longrightarrow Z\\
x&\longmapsto g(f(x))
\end{aligned}
\right.
\end{equation}$$

映射的复合又称映射乘法，因为它有结合律。
## 映射乘法运算律
设$f:X\to Y,g:Y\to Z,h:Z\to W$：
### 结合律
$$h\circ (g\circ f)=(h\circ g)\circ f$$
### 左单位律
$$\mathrm{id}_{Y}\circ f=f$$
### 右单位律
$$f\circ \mathrm{id}_{X}=f$$
## 单射
>设映射$f:X\to Y$，若$$\forall x \in X,y\in Y,f(x)=f(y)\Rightarrow x=y$$则称$f$是*单射*（Injective），记为$f:X\hookrightarrow Y$。

单射有如下性质：
- $f:X\to Y$是单射当且仅当$\exists g:Y\to X,\mathrm{s.t.}g\circ f=\mathrm{id}_{X}$；
- 两个单射的复合还是单射；
- 若$f\circ g$是单射，则$g$是单射；
- 对于非空有限集$X,Y$，存在$X\to Y$的单射当且仅当$|X|\leq |Y|$。
## 满射
>设映射$f:X\to Y$，若$$\forall y\in Y,\exists x \in X,\mathrm{s.t.}f(x)=y$$则称$f$是*满射*（Surjective），记为$f:X\twoheadrightarrow Y$。

满射有如下性质：
- $f:X\to Y$是满射当且仅当$\exists g:Y\to X,\mathrm{s.t.}f\circ g=\mathrm{id}_{Y}$；
- 两个满射的复合还是满射；
- 对于有限集$X,Y$，存在$X\to Y$的满射当且仅当$|X|\geq |Y|$。
## 双射
>设映射$f:X\to Y$，若$f$既是单射，又是满射，则称$f$是*双射*（Bijective）或$\mathbf{1-1}$映射，记为$f:X\leftrightarrow Y$。

双射有如下性质：
- $f:X\to Y$是双射当且仅当$\exists g:Y\to X,\mathrm{s.t.}g\circ f=\mathrm{id}_{X}$且$f\circ g=\mathrm{id}_{Y}$，而且这样的$g$是唯一的；
- 两个双射的复合还是双射；
- 对于有限集$X,Y$，存在$X\to Y$的满射当且仅当$|X|= |Y|$。
## 逆映射
>设$f:X\rightarrow Y$，若存在$g:B\rightarrow A$，使得$g\circ f=\mathrm{id}_{X}$且$f\circ g=\mathrm{id}_{Y}$，则称$f$为*可逆映射*，$g$为$f$的*逆映射*（Inverse），记为$f^{-1}$。如果$f$是函数，通常称$f^{-1}$为*反函数*。

$f$是双射是$f$是可逆映射的充要条件。
已知双射$f,g$，关于逆映射有如下性质：
- $\mathrm{id}^{-1}=\mathrm{id}$；
- $(f^{-1})^{-1}=f$；
- $(g\circ f)^{-1}=f^{-1}\circ g^{-1}$。
## 自映射/变换
>对于集合$X$，$X$到自身的映射$f:X\to X$被称为$X$的自映射或者*变换*。
# 交换图
![[交换图.png]]我们可以以范畴（如集合范畴）为顶点，态射（如映射）为有向边画出一个图。
我们如果**在这个图中，无论选择哪条路径从起点走到终点，最终的效果是完全相同的**，那称这个图是*交换*的。在上面的例子里，当且仅当$f\circ g=h$，这个图才是交换的。
## Cartesius积的泛性质
对于一族集合$\{ A_{i} \}_{i\in I}$，当我们有了这些集合的Cartesius积$P=\prod_{i\in I}A_{i}$，那就可以定义从Cartesius积空间到各个分量集合中的投影映射$\pi_{i}:P\to A_{i}$。然后有：
- $\forall$范畴$X$，$\forall$态射$\{\varphi_{i}:X\to A_{i}\}$，$\exists! \lambda:X\to P$，$\mathrm{s.t.}\forall i\in I,\pi_{i}\circ\lambda=\varphi_{i}$。
![[笛卡尔积的泛性质.png]]

也就是说，随便给一个范畴$X$，只要$X$和$A_{i}$直接能连线，就能找到唯一一个$\lambda$，把$X$和$P$连起来，并且使得这样的有向图是个交换图。
譬如说我们有一个$[1,100]$的实数集合当做$A_{i}$，可以对这个实数集做$n$次的Cartesius幂得到的就是$P$，然后我们找一个包含$n$个水果的集合$X=\{ 苹果,菠萝,香蕉,葡萄,\dots \}$，然后我们定义一个打分函数$\varphi_{i}:X\to A_{i}$，用来给各个水果的好吃程度赋予一个0~100之间的分数，假如$\varphi_{1}(苹果)=90$，$\varphi_{2}(菠萝)=60$，$\varphi_{3}(香蕉)=80$，$\varphi_{4}(葡萄)=85$，我们很自然地可以看到有一个唯一的$\lambda:X\to P$，可以做到$\lambda(X)=(90,60,80,85)$。
要证明上述结论，只需要取$\lambda$为$$
\begin{equation}
\left.
\begin{aligned}
\lambda:X&\longrightarrow P\\
x&\longmapsto (\varphi_{i}(x))_{i\in I}
\end{aligned}
\right.
\end{equation}$$即可。设$\lambda(x)=(\varphi_{j}(x))_{j\in I}=(a_{j})_{j\in I}$，则$$\pi_{i}\circ \lambda(x)=\pi_{i}((a_{j})_{j\in I})=a_{i}=\varphi_{i}(x)$$因为$a_{i}=\varphi_{i}(x)$这种对应关系是唯一的，所以$\lambda$也是唯一的。
Cartesius积的泛性质看上去似乎是一句废话，然而将其抽象出来有其意义，例如下面的推论指出，这条性质完全决定了Cartesius积。
- 满足Cartesius泛性质的诸元组$(P,\{ \pi_{i} \})$之间一定可以建立双射，也就是说，若$(P,\{ \pi_{i} \}),(P',\{ \pi_{i}' \})$满足Cartersius泛性质，则存在$\alpha:P\to P',\beta:P\to P'$，使得：
![[笛卡尔积泛性质的推论.png]]

---
证明：
根据Cartesius积的泛性质，$X=P',\varphi_{i}=\pi_{i}'$，所以$\exists \beta:P'\to P,\mathrm{s.t.}\pi_{i}\circ\beta=\pi_{i}'$。同理，$X=P,\varphi_{i}=\pi_{i}$，所以$\exists \alpha:P\to P',\mathrm{s.t.}\pi_{i}'\circ\alpha=\pi_{i}$。
然后令$\lambda=\beta \circ \alpha$，$\pi_{i} \circ\lambda=\pi_{i} \circ \beta\circ \alpha=\pi_{i}'\circ \alpha=\pi_{i}$，所以$\lambda=\beta \circ \alpha=\mathrm{id}_{P}$，同理可证$\alpha \circ \beta=\mathrm{id}_{P'}$，所以$\alpha,\beta$都是双射。
证毕。
## 函子<sup></sup>

# 运算与运算律
## 二元运算
>已知集合$X,Y,Z$，若映射$f:X\times Y\to Z$，则称$f$是一个从$X,Y$到$Z$的一个*二元运算*（Binary Operator），简称*运算*。对于$f(x,y)=z$，记为$xfy=z$。
>若$f:X\times Y\to Z$，则称$f$是$X$在$Y$上到$Z$的一个*左作用*（Left-action）。
>若$f:Y\times X\to Z$，则称$f$是$X$在$Y$上到的一个*右作用*（Right-action）。

线性空间中的数乘就是一种作用。
## 反运算
>已知$f$是一个从$X,Y$到$Z$的一个二元运算，定义$$\begin{equation}
\left.
\begin{aligned}
f^{\mathrm{op}}:Y\times X&\longrightarrow Z\\
(y,x)&\longmapsto f^{\mathrm{op}}(x,y)
\end{aligned}
\right.
\end{equation}$$称为$f$的*反运算*（Opposite Operator）。
## 封闭运算
>若运算$f:X\times X\to X$，则称$f$为$X$上的封闭二元运算，简称*封闭运算*（Closed Operator）。
## $n$元封闭运算
>若运算$f:X^n\to X$，则称$f$为$X$上的封闭二元运算，简称*封闭运算*（Closed Operator）。