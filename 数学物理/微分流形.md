#微分几何 #场论 
注意本文在行文过程中采用了Einstein求和约定。
# 微分流形的定义
## 流形
流形的概念是Euclideam空间的推广。粗略地说，流形在每一点的附近和Euclidean空间的一个开集是同胚的，因此在每一点的附近可以引进局部坐标系。流形正是一块块Euclidean粘起来的结果，局部看着像Euclidean空间，但是整体并不是。
>设$M$是$T_{2},C_{2}$空间，若$\forall x \in M$，都有$x$在$M$的一个邻域$U$同胚于$m$维Euclidean空间$\mathbb{R}^m$的一个开集$O_{x}$，则称$M$是一个$m$维*流形*（Manifold）或拓扑流形。
>设这里的同胚映射是$\pi:M\to \mathbb{R}^m$，则$(U,\pi)$称为是$M$的一个*坐标卡*（Chart）。
>流形中邻域上一点$\forall p \in U$，可以把$\pi(p)\in \mathbb{R}^m$的坐标定义为$p$的*坐标*，即$$u^{i}=(\pi(p))^i,\quad p \in U,i=1,2,\dots,m$$称$u^i$为$p \in U$的*局部坐标*。
>所有这样满足条件的$(U_{i},\pi_{i})$组成的集合称为*坐标图册*（Atlas）。

上面关于拓扑学的概念可见[[拓扑]]、[[极限与连续]]、[[分离公理]]、[[可数公理]]。
流形的定义包含三个要素：
- 局部Euclidean性：这是流形这一概念的核心阐发点；
- Hausdorff性：规避了一些怪异的拓扑空间，非Hausdorff空间中一个序列有可能收敛到两个不同的极限点；
- 第二可数性：保证空间可以被可数个坐标卡所覆盖。

想象地球表面虽是一个球面，但在很小的一片区域里，地面看起来是平坦的，可以用二维地图（平面直角坐标系）来准确描述位置，这就是“局部像Euclidean空间”（这里指平面 ℝ²）。
但是，地球整体不是一个平面。不能用一张没有扭曲的平面地图完整地描绘整个地球，需要一个地图集——多张地图，每张覆盖地球的一部分，这些地图就是坐标卡。
## 微分流形
>设$M$是$n$维流形，其中的两个邻域$O_{\alpha},O_{\beta}$满足$O_{\alpha}\cap O_{\beta}$非空，存在两个同胚映射分别将$O_{\alpha},O_{\beta}$分别映射到$V_{\alpha}\subseteq \mathbb{R}^n,V_{\beta}\subseteq \mathbb{R}^n$，即$\psi_{\alpha}:O_{\alpha}\to V_{\alpha},\psi_{\beta}:O_{\beta}\to V_{\beta}$。$(O_{\alpha},\psi_{\alpha}),(O_{\beta},\psi_{\beta})$构成了两个坐标卡，分别对应了两套坐标，对应了两种*微分结构*，而$O_{\alpha},O_{\beta}$被称作*坐标域*。
>复合映射$\psi_{\alpha}\circ \psi^{-1}_{\beta}$和$\psi_{\beta}\circ\psi_{\alpha}^{-1}$相当于是一对互逆的从$\mathbb{R}^n$到$\mathbb{R}^n$的坐标变换。
>若$\psi_{\alpha}\circ \psi^{-1}_{\beta}\in C^r$，即函数$\psi_{\alpha}\circ \psi^{-1}_{\beta}$是$r$次可微的，则$M$是$C^r-$*微分流形*。
>若$\psi_{\alpha}\circ \psi^{-1}_{\beta}\in C^\infty$，即函数$\psi_{\alpha}\circ \psi^{-1}_{\beta}$是无限光滑的，则$M$是$C^\infty-$*微分流形*，简称*光滑流形*。在不混淆的情况下，直接简称为微分流形。
>上面的条件又称作$C^r-$*相容性条件*或$C^\infty-$*相容性条件*（Compatibility），满足该条件我们就称坐标图册中任意两个坐标卡是*相容的*。

如果不加区分，之后讨论的微分流形都默认为光滑流形。![[微分流形的定义.png]]
设$M=(\mathbb{R}^n,\mathscr{T}_{u})$，选取$O_{1}=\mathbb{R}^n$，$\psi_{1}=\mathcal{I}$（恒等映射），则$\{ (O_{1},\psi_{1}) \}$就是只含一个坐标卡的坐标图册，故$M$是$n$维流形。像这种只用一个开集就能覆盖的流形被称为*平凡流形*。
设$M=(S^1,\mathscr{S})$，其中$S^1=\{ x \in \mathbb{R}^2||x-o|=1 \}$是以$o$为圆心的单位圆周，$\mathscr{S}$是$\mathbb{R}^2$在$S^1$上的诱导拓扑。虽然$S^1$与$\mathbb{R}$并不同胚，但是$S^1$可以被两个开集覆盖——例如取$S_{1}^1=S^1/\{ (0,1) \}$，$S_{2}^1=S^1/\{ (0,-1) \}$，可以验证$S_{1}^1,S_{2}^1$就都可以和$\mathbb{R}$同胚。
## 微分同胚
微分流形与拓扑空间之间最大的区别就是在于不仅有拓扑结构，还有微分结构。因此，两个微分流形之间的映射不仅可以谈论连续，还可以谈论可微。
>设$M,M'$是两个微分流形，有映射$f:M\to M'$，$p \in M$和$f(p)\in M'$的邻域$O_{\alpha},O_{\beta}'$分别与$\mathbb{R}^n,\mathbb{R}^{n'}$同胚，$(O_{\alpha},\psi_{\alpha}),(O_{\beta},\psi_{\beta})$为二者的坐标卡，则$\psi_{\beta}\circ f\circ\psi_{\alpha}^{-1}$是一个从$\mathbb{R}^n$到$\mathbb{R}^{n'}$的映射，它是$n'$个$n$元函数。
>我们定义$\psi_{\beta}\circ f\psi_{\alpha}^{-1}$对应的$n'$个$n$元函数若是$r$阶可微的，则称$f$是$r$阶*可微的*。
![[微分流形之间映射的可微性.png]]
>设$M,M'$是两个微分流形，若存在双射$f:M\leftrightarrow M'$，$f$及其逆是无限光滑的，即$f,f^{-1} \in C^{\infty}$，则称$M$与$M'$*微分同胚*（Diffeomorphism）。
>称这样的双射$f$为$M$到$M'$的*微分同胚映射*。

微分同胚是对微分流形之间的相似性提出的最高要求，互相微分同胚的微分流形就可以视作是相等的。
- 只有维数相同的微分流形才能微分同胚。
- 把微分流形定义中的$O_{\alpha}$和$V_{\alpha}$看作流形，它们也是微分同胚的。

其中一个重要特例是$M'=\mathbb{R}$的情况。
>映射$f:M\to \mathbb{R}$称为$M$上的函数或$M$上的标量场。
>若$f \in C^{\infty}$，则称为$M$上的光滑函数。
# 切空间
## 切矢量
### 流形上的线性空间
按照线性代数中的[[线性空间]]的定义，$\mathbb{R}^n$中任意一点$p$，从$p$点出发的各种方向和长度的直线段构成的集合$V_{p}$，定义平行四边形法则为加法，数乘为长度乘倍方向保持，$V_{p}$就能构成一个线性空间。
但在一般的微分流形中，直线段、长度、方向都没有定义，无法直接按照上面的方式推广。因此，我们需要抓住向量更本质、易于推广的特性。
设$\vec{v}$是$\mathbb{R}^n$中从$p \in \mathbb{R}^n$到某另一点的一个矢量，则我们可以对$\mathbb{R}^n$上的任意函数$f \in C^1$求$p$点在$\vec{v}$方向的方向导数$f_{\vec{l}}'(p)=\sum_{i}^n v_{i}\dfrac{ \partial  f }{ \partial  x_{i}}(p)$，结果是一个实数。我们可以发现所谓“方向”的本质就在于是一个把函数$f$映射为一个实数的映射，即$\vec{v}:C^{\infty}\to \mathbb{R}$，而这个映射根据方向导数的性质，满足线性性和Leibniz律。我们可以从这个视角出发，将方向的概念推广到一般的流形上。
>设微分流形$M$上有一点$p \in M$，$p$的邻域为$U$，$f,g$是定义在$p$的邻域$U$上的光滑函数，即$f,g \in C_{p}^{\infty}$，定义等价关系$f\sim g\Leftrightarrow f|_{U}=g|_{U}$，则商集$C^\infty_{p}/\sim$中关于$\sim$的等价类称为流形$M$在$p$点的$C^\infty-$*函数芽*（Germ），这些等价类记为$[f]$，商集记为$\mathscr{F}_{p}=C_{p}^{\infty}/\sim=\{ [f]|f \in C_{p}^{\infty} \}$。

引入函数芽的概念是为了在之后的线性空间中一个方向有唯一一个元素对应。
不过由于我们只在邻域$U$进行讨论，我们也可以不必区分$[f]$和$f$，在后面的行文中都直接用不加中括号的表示。

---
设微分流形$M$，$p \in M$，映射$v:\mathscr{F}_{p}\to \mathbb{R}$，若满足$\forall f,g \in \mathscr{F}_{p},\alpha,\beta \in \mathbb{R}$，有：
1. 线性性：$v(\alpha f +\beta g)=\alpha v(f)+\beta v(g)$；
2. Leibniz律：$v(f\cdot g)=f(p)v(g)+v(f)f(p)$。

则称$v$是为$p$的一个*矢量*（Vector）。
- 令$V_{p}$代表$M$中$p$点所有矢量的集合，则$V_{p}$**是$n$维线性空间**（$n$是$M$的维度）。

>在给定$n$维微分流形$M$的坐标卡$(O,\psi)$时，坐标为$x^\mu,\mu=1,2,\dots,n$，$M$上任意光滑函数$f \in \mathscr{F}_{p}$可以表示为一个$n$元函数$f\circ\psi^{-1}=F(x^1,x^2,\dots,x^n)$。
>借此可给$O$中任意一点$p$定义$n$个矢量，记作$X_{\mu}$，定义$X_{\mu}$作用$f$得到的值为$$X_{\mu}(f):=\left. \frac{ \partial   F(x^1,x^2,\dots,x^n)}{ \partial  x^\mu} \right|_{p},\forall f \in \mathscr{F}_{p}  $$称$O$内任意一点$p$的$\{ X_{1},X_{2},\dots,X_{n} \}$为$V_{p}$的一个*坐标基底*，每个$X_{\mu}$称为*坐标基矢*。
>任意矢量$v \in V_{p}$被$\{ X_{n} \}$线性表出的系数$v^\mu$称为*坐标分量*，即$v=v^\mu X_{\mu}$。

在之后，我们直接使用$f(x)$来表示$f\circ\psi^{-1}=F(x^1,\dots,x^n)$，代表着流形上的函数在某一坐标卡下的具象化。
- *坐标变换公式*：设微分流形$M$的两个坐标卡$(O_{\alpha},\psi_{\alpha}),(O_{\beta},\psi_{\beta})$，且$p \in O_{\alpha}\cap O_{\beta}$，$V_{p}$在两套坐标卡下对应的坐标基底分别为$\{ x^\mu \},\{ x'^\nu \}$。任意矢量$v \in V_{p}$，$\{ v^\mu \},\{ v'^\nu \}$为两套基底下的坐标分量，则$$v'^\nu=\left.\frac{ \partial  x'^\nu }{ \partial  x^\mu}   \right|_{p}v^\mu $$
### 曲线
>设$I$为$\mathbb{R}$的一个区间，则映射$C\in C^r:I\to M$称为$M$上的一条$C^r$类*曲线*（Curve）。
>对任意$t \in I$，存在$C(t)\in M$与之对应，$t$称为曲线的*参数*（Parameter）。

之后若不特殊声明，曲线都指$C^\infty$类曲线。
注意：这里定义的曲线和直观的曲线有差别，直观的曲线其实应该是指映射$C:I\to M$的像，而上面定义的曲线指的是映射$C$本身。若两个映射$C:I\to M,C':I'\to M$它们的像重合，直观上应该是同一条曲线，但形式上却是两条不同的曲线。
不过我们可以说，上面的$C$和$C'$是同一条曲线的两种不同的参数化，准确来说，曲线$C'$是曲线$C$的*重参数化*（Reparametrization）。
有的时候我们也直接用$C(t)$来表示曲线（而非$C(I)$），到底是指流形上一个点$C(t_{0})$还是一条线$C(t)$（$t$遍历$I$）应该根据上下文区分。
在坐标卡$(O,\psi)$下，若$C(I)\subseteq O$，则$\psi \circ C:I\subseteq \mathbb{R}\to \mathbb{R}^n$相当于$n$个一元函数，称为曲线$C$的*参数方程*或参数表达式。
### 坐标线
>设坐标卡$(O,\psi)$下局部坐标为$x^\mu$，则$O$的子集$$\{ p \in O|x^2(p)=\mathrm{Const},\dots,x^n(p)=\mathrm{Const} \}$$可看作以$x^1$为参数的一条曲线，称为$x^1$*坐标线*（Coordinate Line）。类似的有$x^\mu$坐标线。

例如平面直角坐标系$\{ x,y \}$下坐标系是互相正交两组平行直线。球坐标系$\{ r,\rho,\varphi \}$中$r$的坐标线是射线，$\theta,\varphi$是圆。
### 切矢
>设$C(t)$是流形$M$上的$C^1$曲线，则曲线上$C(t_{0})$点切于$C(t)$的矢量被称为$C(t_{0})$处$C(t)$的切矢（Tangent Vector），其对$f \in \mathscr{F}_{C(t_{0})}$定义为$$T(f):= \left. \frac{ \mathrm{d}  (f\circ C) }{ \mathrm{d}  t} \right|_{p_{0}},\forall f \in \mathscr{F}_{C(t_{0})} $$

注意：$f:M\to \mathbb{R}$本身并不是什么一元函数，只是$f\circ C:I\to \mathbb{R}$变成了一个一元函数，所以上面的定义里写的是全微分。
我们可以把$f\circ C$理解为“流形上函数$f$在流形曲线$C$上的具象化”，结果是$f(t)=f\circ C(t)$，$f$变得可以用参数$t$具象化表示了。
切矢$T$也常常记为$\dfrac{ \partial   }{ \partial  t}$，上式可以表示为$\left.\dfrac{ \partial   }{ \partial  t}   \right|_{C(t_{0})}(f)$。这里为什么用偏导而不是用全导表示？可以理解为$n$维流形上的函数$f$本身坐标化后应该是$n$元函数的，然后对参数$t$求偏导，之所以上面的定义里是全导数是限制$f$的定义域在曲线$C(t)$后才有的。
设$p \in M$，$V_{p}$的基矢$X_{\mu}$其实就是坐标线$x^\mu$的切矢量，所以也可以把$X_{\mu}$表示为$\left.\dfrac{ \partial   }{ \partial  x^\mu}  \right|_{p}$。
- 设曲线$C(t)$在某坐标卡下的参数式为$x^\mu=x^\mu(t)$，则线上任意一点的切矢在该坐标基底下的展开式为$$\frac{ \partial   }{ \partial  t} =\frac{ \partial  x^\mu }{ \partial  t} \frac{ \partial   }{ \partial  x^\mu} $$
### 平行性
>非零矢量$u,v \in V_{p}$，若$\exists \alpha \in \mathbb{R}$，使得$v=\alpha u$，则称$u$和$v$是平行的。

- 设曲线$C':I'\to M$是$C:I\to M$的重参数化，则它们在任意像点的切矢平行，即$$\frac{ \partial   }{ \partial  t} =\frac{ \mathrm{d}  t' (t)}{ \mathrm{d}  t} \frac{ \partial   }{ \partial  t'} $$其中$t'=t'(t)$是由$\alpha:I\to I'$诱导得到的一元函数。
### 切空间
$\forall p \in M$，若指定一曲线$C(t)$使得$p=C(t_{0})$，则$V_{p}$中必有一元素是曲线在$C(t_{0})$处的切矢。同样也能证明，给定任意$v \in V_{p}$，存在一条曲线在$p$点的切矢是$v$。
因此$V_{p}$中的任意元素都可以视为过$p$点某曲线的切矢，因此$p$点的矢量也被称为切矢量，$V_{p}$称为$p$点的*切空间*。
## 流形上的矢量场
设$A\subseteq M$，若给$A$上的每一个点都指定一个矢量，就得到定义在$A$上的一个矢量场。
设$v$是$M$上的矢量场，$f$是$M$上的函数，则$v$将$M$中的每一点$p$的邻域$V_{p}$映射为一个实数$v|_{p}(f)$